function webEvents(n){function e(n,e){var o,i=n.apply(c,e);"object"==typeof i&&(i instanceof Array?(o=i[0],e=i.slice(1),t.apply(c,[o].concat(e))):(o=i.type,delete(e=i).type,c.emit(o,e)))}function t(n){var e=Array.prototype.slice.call(arguments,1);o.send(JSON.stringify({type:n,args:e}))}var o=null,c={emit:t,disconnect:function(){o.close()},reconnect:function(){WebSocket.OPEN&&o.close(),i()},version:"2.0.0"};function i(){(o=new WebSocket("ws://"+location.hostname)).onopen=function(){n.connection&&e(n.connection)},o.onmessage=function(t){var o;try{o=JSON.parse(t.data)}catch(n){return}"string"==typeof o.type&&n[o.type]&&e(n[o.type],o.args)},o.onclose=function(){n.close&&e(n.close)}}return i(),c}void 0===window.events&&(window.events=webEvents);